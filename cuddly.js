// Generated by CoffeeScript 1.12.7
(function() {
  var IO, cuddly_url, plugin;

  IO = require('socket.io-client');

  cuddly_url = process.env.CUDDLY_URL;

  module.exports = plugin = function(w) {
    var cuddly_io, log, log_if;
    if (cuddly_url == null) {
      return;
    }
    cuddly_io = IO(cuddly_url);
    log = function(data) {
      return cuddly_io.emit("report_" + data.event, data);
    };
    log_if = function(data) {
      if (data.logging) {
        return log(data);
      }
    };
    w.on('dev', log);
    w.on('ops', log);
    w.on('csr', log_if);
  };

}).call(this);
